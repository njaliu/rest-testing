<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>CacheInterceptor (EclipseLink 2.6.1, API Reference)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CacheInterceptor (EclipseLink 2.6.1, API Reference)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>EclipseLink 2.6.1, API Reference</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheKeyInterceptor.html" title="class in org.eclipse.persistence.sessions.interceptors"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html" target="_top">Frames</a></li>
<li><a href="CacheInterceptor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.eclipse.persistence.sessions.interceptors</div>
<h2 title="Class CacheInterceptor" class="title">Class CacheInterceptor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.eclipse.persistence.sessions.interceptors.CacheInterceptor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Cloneable, org.eclipse.persistence.internal.identitymaps.IdentityMap</dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">CacheInterceptor</span>
extends java.lang.Object
implements org.eclipse.persistence.internal.identitymaps.IdentityMap</pre>
<div class="block"><p>
 <b>Purpose</b>: Define a class through which Cache access can be
 intercepted.
 <p>
 <b>Description</b>: EclipseLink makes extensive use of caching
 functionality. This class provides the mechanism for intercepting the cache
 access. Once intercepted applications can allow the process to continue by
 calling the method on the class attribute targetIdentityMap as described in
 the API javadocs or redirect the process entirely. * As with IdentityMaps an
 entire class inheritance hierarchy will share the same interceptor.
 <p>
 To implement a CacheInterceptor users should subclass this class implementing
 those methods they wish to intercept.
 <p>
 <b>Configuration</b>: Interceptors may be added to a session by using a
 Session or Descriptor customizer to set the class name of the interceptor on
 the target ClassDescriptor through the method
 setCacheInterceptorClass(Class).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.eclipse.persistence.internal.sessions.AbstractSession</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#interceptedSession">interceptedSession</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.eclipse.persistence.internal.identitymaps.IdentityMap</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#targetIdentityMap">targetIdentityMap</a></strong></code>
<div class="block">This attribute stores the actual IdentityMap as configured by the user.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#CacheInterceptor(org.eclipse.persistence.internal.identitymaps.IdentityMap,%20org.eclipse.persistence.internal.sessions.AbstractSession)">CacheInterceptor</a></strong>(org.eclipse.persistence.internal.identitymaps.IdentityMap&nbsp;targetIdentityMap,
                org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;interceptedSession)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.CacheKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireDeferredLock(java.lang.Object,%20boolean)">acquireDeferredLock</a></strong>(java.lang.Object&nbsp;primaryKey,
                   boolean&nbsp;isCacheCheckComplete)</code>
<div class="block">Acquire a deferred lock on the object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.CacheKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireLock(java.lang.Object,%20boolean,%20boolean)">acquireLock</a></strong>(java.lang.Object&nbsp;primaryKey,
           boolean&nbsp;forMerge,
           boolean&nbsp;isCacheCheckComplete)</code>
<div class="block">Acquire an active lock on the object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.CacheKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireLockNoWait(java.lang.Object,%20boolean)">acquireLockNoWait</a></strong>(java.lang.Object&nbsp;primaryKey,
                 boolean&nbsp;forMerge)</code>
<div class="block">Acquire an active lock on the object, if not already locked.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.CacheKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireLockWithWait(java.lang.Object,%20boolean,%20int)">acquireLockWithWait</a></strong>(java.lang.Object&nbsp;primaryKey,
                   boolean&nbsp;forMerge,
                   int&nbsp;wait)</code>
<div class="block">Acquire an active lock on the object, if not already locked.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.CacheKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireReadLockOnCacheKey(java.lang.Object)">acquireReadLockOnCacheKey</a></strong>(java.lang.Object&nbsp;primaryKey)</code>
<div class="block">Acquire a read lock on the object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.CacheKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireReadLockOnCacheKeyNoWait(java.lang.Object)">acquireReadLockOnCacheKeyNoWait</a></strong>(java.lang.Object&nbsp;primaryKey)</code>
<div class="block">Acquire a read lock on the object, if not already locked.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#clone()">clone</a></strong>()</code>
<div class="block">Clone the map and all of the CacheKeys.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#collectLocks(java.util.HashMap)">collectLocks</a></strong>(java.util.HashMap&nbsp;threadList)</code>
<div class="block">Add all locked CacheKeys to the map grouped by thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#containsKey(java.lang.Object)">containsKey</a></strong>(java.lang.Object&nbsp;primaryKey)</code>
<div class="block">Return true if an CacheKey with the primary key is in the map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheKeyInterceptor.html" title="class in org.eclipse.persistence.sessions.interceptors">CacheKeyInterceptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#createCacheKeyInterceptor(org.eclipse.persistence.internal.identitymaps.CacheKey)">createCacheKeyInterceptor</a></strong>(org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;wrappedCacheKey)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Enumeration</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#elements()">elements</a></strong>()</code>
<div class="block">Allow for the cache to be iterated on.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#get(java.lang.Object)">get</a></strong>(java.lang.Object&nbsp;primaryKey)</code>
<div class="block">Return the object cached in the identity map or null if it could not be found.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract java.util.Map&lt;java.lang.Object,org.eclipse.persistence.internal.identitymaps.CacheKey&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getAllCacheKeysFromIdentityMapWithEntityPK(java.lang.Object[],%20org.eclipse.persistence.descriptors.ClassDescriptor,%20org.eclipse.persistence.internal.sessions.AbstractSession)">getAllCacheKeysFromIdentityMapWithEntityPK</a></strong>(java.lang.Object[]&nbsp;pkList,
                                          <a href="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</a>&nbsp;descriptor,
                                          org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</code>
<div class="block">ADVANCED:
 Using a list of Entity PK this method will attempt to bulk load the entire list from the cache.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract java.util.Map&lt;java.lang.Object,java.lang.Object&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getAllFromIdentityMapWithEntityPK(java.lang.Object[],%20org.eclipse.persistence.descriptors.ClassDescriptor,%20org.eclipse.persistence.internal.sessions.AbstractSession)">getAllFromIdentityMapWithEntityPK</a></strong>(java.lang.Object[]&nbsp;pkList,
                                 <a href="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</a>&nbsp;descriptor,
                                 org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</code>
<div class="block">ADVANCED:
 Using a list of Entity PK this method will attempt to bulk load the entire list from the cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.CacheKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getCacheKey(java.lang.Object,%20boolean)">getCacheKey</a></strong>(java.lang.Object&nbsp;primaryKey,
           boolean&nbsp;forMerge)</code>
<div class="block">Get the cache key (with object) for the primary key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.CacheKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getCacheKeyForLock(java.lang.Object)">getCacheKeyForLock</a></strong>(java.lang.Object&nbsp;primaryKey)</code>
<div class="block">Get the cache key (with object) for the primary key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getDescriptor()">getDescriptor</a></strong>()</code>
<div class="block">Return the descriptor that this is the map for.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Class</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getDescriptorClass()">getDescriptorClass</a></strong>()</code>
<div class="block">Return the class that this is the map for.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getMaxSize()">getMaxSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getSize()">getSize</a></strong>()</code>
<div class="block">Return the number of CacheKeys in the IdentityMap.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getSize(java.lang.Class,%20boolean)">getSize</a></strong>(java.lang.Class&nbsp;myClass,
       boolean&nbsp;recurse)</code>
<div class="block">Return the number of actual objects of type myClass in the IdentityMap.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getTargetIdenttyMap()">getTargetIdenttyMap</a></strong>()</code>
<div class="block">Return the instance of the IdentityMap that this intercpetor is wrapping.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getWrapper(java.lang.Object)">getWrapper</a></strong>(java.lang.Object&nbsp;primaryKey)</code>
<div class="block">Get the wrapper object from the cache key associated with the given primary key,
 this is used for EJB2.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getWriteLockValue(java.lang.Object)">getWriteLockValue</a></strong>(java.lang.Object&nbsp;primaryKey)</code>
<div class="block">Get the write lock value from the cache key associated to the primarykey.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Enumeration</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#keys()">keys</a></strong>()</code>
<div class="block">Allow for the CacheKeys to be iterated on.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Enumeration</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#keys(boolean)">keys</a></strong>(boolean&nbsp;checkReadLocks)</code>
<div class="block">Allow for the CacheKeys to be iterated on. - value should be true
 if readloacks are to be used, false otherwise.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#lazyRelationshipLoaded(java.lang.Object,%20org.eclipse.persistence.indirection.ValueHolderInterface,%20org.eclipse.persistence.mappings.ForeignReferenceMapping)">lazyRelationshipLoaded</a></strong>(java.lang.Object&nbsp;rootEntity,
                      <a href="../../../../../org/eclipse/persistence/indirection/ValueHolderInterface.html" title="interface in org.eclipse.persistence.indirection">ValueHolderInterface</a>&nbsp;valueHolder,
                      <a href="../../../../../org/eclipse/persistence/mappings/ForeignReferenceMapping.html" title="class in org.eclipse.persistence.mappings">ForeignReferenceMapping</a>&nbsp;mapping)</code>
<div class="block">Notify the cache that a lazy relationship has been triggered in the object
 and the cache may need to be updated</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.identitymaps.CacheKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#put(java.lang.Object,%20java.lang.Object,%20java.lang.Object,%20long)">put</a></strong>(java.lang.Object&nbsp;primaryKey,
   java.lang.Object&nbsp;object,
   java.lang.Object&nbsp;writeLockValue,
   long&nbsp;readTime)</code>
<div class="block">Store the object in the cache at its primary key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#remove(org.eclipse.persistence.internal.identitymaps.CacheKey)">remove</a></strong>(org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;cacheKey)</code>
<div class="block">Remove the CacheKey from the map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#remove(java.lang.Object,%20java.lang.Object)">remove</a></strong>(java.lang.Object&nbsp;primaryKey,
      java.lang.Object&nbsp;object)</code>
<div class="block">Remove the CacheKey with the primaryKey from the map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#setDescriptor(org.eclipse.persistence.descriptors.ClassDescriptor)">setDescriptor</a></strong>(<a href="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</a>&nbsp;descriptor)</code>
<div class="block">Set the descriptor that this is the map for.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#setWrapper(java.lang.Object,%20java.lang.Object)">setWrapper</a></strong>(java.lang.Object&nbsp;primaryKey,
          java.lang.Object&nbsp;wrapper)</code>
<div class="block">Update the wrapper object in the CacheKey associated with the given primaryKey,
 this is used for EJB2.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#setWriteLockValue(java.lang.Object,%20java.lang.Object)">setWriteLockValue</a></strong>(java.lang.Object&nbsp;primaryKey,
                 java.lang.Object&nbsp;writeLockValue)</code>
<div class="block">Update the write lock value of the CacheKey associated with the given primaryKey.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#updateMaxSize(int)">updateMaxSize</a></strong>(int&nbsp;maxSize)</code>
<div class="block">This method will be used to update the max cache size, any objects exceeding the max cache size will
 be remove from the cache.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.eclipse.persistence.internal.identitymaps.IdentityMap">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.eclipse.persistence.internal.identitymaps.IdentityMap</h3>
<code>release</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="targetIdentityMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>targetIdentityMap</h4>
<pre>protected&nbsp;org.eclipse.persistence.internal.identitymaps.IdentityMap targetIdentityMap</pre>
<div class="block">This attribute stores the actual IdentityMap as configured by the user.</div>
</li>
</ul>
<a name="interceptedSession">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>interceptedSession</h4>
<pre>protected&nbsp;org.eclipse.persistence.internal.sessions.AbstractSession interceptedSession</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CacheInterceptor(org.eclipse.persistence.internal.identitymaps.IdentityMap, org.eclipse.persistence.internal.sessions.AbstractSession)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CacheInterceptor</h4>
<pre>public&nbsp;CacheInterceptor(org.eclipse.persistence.internal.identitymaps.IdentityMap&nbsp;targetIdentityMap,
                org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;interceptedSession)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="acquireDeferredLock(java.lang.Object, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireDeferredLock</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;acquireDeferredLock(java.lang.Object&nbsp;primaryKey,
                                                                         boolean&nbsp;isCacheCheckComplete)</pre>
<div class="block">Acquire a deferred lock on the object.
 This is used while reading if the object has relationships without indirection.
 This first thread will get an active lock.
 Other threads will get deferred locks, all threads will wait until all other threads are complete before releasing their locks.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>acquireDeferredLock</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="acquireLock(java.lang.Object, boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireLock</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;acquireLock(java.lang.Object&nbsp;primaryKey,
                                                                 boolean&nbsp;forMerge,
                                                                 boolean&nbsp;isCacheCheckComplete)</pre>
<div class="block">Acquire an active lock on the object.
 This is used by reading (when using indirection or no relationships) and by merge.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>acquireLock</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="acquireLockNoWait(java.lang.Object, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireLockNoWait</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;acquireLockNoWait(java.lang.Object&nbsp;primaryKey,
                                                                       boolean&nbsp;forMerge)</pre>
<div class="block">Acquire an active lock on the object, if not already locked.
 This is used by merge for missing existing objects.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>acquireLockNoWait</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="acquireLockWithWait(java.lang.Object, boolean, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireLockWithWait</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;acquireLockWithWait(java.lang.Object&nbsp;primaryKey,
                                                                         boolean&nbsp;forMerge,
                                                                         int&nbsp;wait)</pre>
<div class="block">Acquire an active lock on the object, if not already locked.
 This is used by merge for missing existing objects.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>acquireLockWithWait</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="acquireReadLockOnCacheKey(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireReadLockOnCacheKey</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;acquireReadLockOnCacheKey(java.lang.Object&nbsp;primaryKey)</pre>
<div class="block">Acquire a read lock on the object.
 This is used by UnitOfWork cloning.
 This will allow multiple users to read the same object but prevent writes to the object while the read lock is held.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>acquireReadLockOnCacheKey</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="acquireReadLockOnCacheKeyNoWait(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireReadLockOnCacheKeyNoWait</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;acquireReadLockOnCacheKeyNoWait(java.lang.Object&nbsp;primaryKey)</pre>
<div class="block">Acquire a read lock on the object, if not already locked.
 This is used by UnitOfWork cloning.
 This will allow multiple users to read the same object but prevent writes to the object while the read lock is held.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>acquireReadLockOnCacheKeyNoWait</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="collectLocks(java.util.HashMap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectLocks</h4>
<pre>public&nbsp;void&nbsp;collectLocks(java.util.HashMap&nbsp;threadList)</pre>
<div class="block">Add all locked CacheKeys to the map grouped by thread.
 Used to print all the locks in the identity map.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>collectLocks</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="clone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clone</h4>
<pre>public abstract&nbsp;java.lang.Object&nbsp;clone()</pre>
<div class="block">Clone the map and all of the CacheKeys.
 This is used by UnitOfWork commitAndResumeOnFailure to avoid corrupting the cache during a failed commit.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>clone</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code>clone</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="containsKey(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsKey</h4>
<pre>public&nbsp;boolean&nbsp;containsKey(java.lang.Object&nbsp;primaryKey)</pre>
<div class="block">Return true if an CacheKey with the primary key is in the map.
 User API.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>containsKey</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>primaryKey</code> - is the primary key for the object to search for.</dd></dl>
</li>
</ul>
<a name="createCacheKeyInterceptor(org.eclipse.persistence.internal.identitymaps.CacheKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCacheKeyInterceptor</h4>
<pre>protected abstract&nbsp;<a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheKeyInterceptor.html" title="class in org.eclipse.persistence.sessions.interceptors">CacheKeyInterceptor</a>&nbsp;createCacheKeyInterceptor(org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;wrappedCacheKey)</pre>
</li>
</ul>
<a name="elements()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>elements</h4>
<pre>public&nbsp;java.util.Enumeration&nbsp;elements()</pre>
<div class="block">Allow for the cache to be iterated on.  This method is only used during debugging when
 validateCache() has been called to print out the contents of the cache.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>elements</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="get(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;java.lang.Object&nbsp;get(java.lang.Object&nbsp;primaryKey)</pre>
<div class="block">Return the object cached in the identity map or null if it could not be found.
 User API.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>get</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="getAllFromIdentityMapWithEntityPK(java.lang.Object[], org.eclipse.persistence.descriptors.ClassDescriptor, org.eclipse.persistence.internal.sessions.AbstractSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllFromIdentityMapWithEntityPK</h4>
<pre>public abstract&nbsp;java.util.Map&lt;java.lang.Object,java.lang.Object&gt;&nbsp;getAllFromIdentityMapWithEntityPK(java.lang.Object[]&nbsp;pkList,
                                                                                 <a href="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</a>&nbsp;descriptor,
                                                                                 org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</pre>
<div class="block">ADVANCED:
 Using a list of Entity PK this method will attempt to bulk load the entire list from the cache.
 In certain circumstances this can have large performance improvements over loading each item individually.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getAllFromIdentityMapWithEntityPK</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pkList</code> - List of Entity PKs to extract from the cache</dd><dd><code>descriptor</code> - Descriptor type to be retrieved.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Map of Entity PKs associated to the Entities that were retrieved</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/persistence/exceptions/QueryException.html" title="class in org.eclipse.persistence.exceptions">QueryException</a></code></dd></dl>
</li>
</ul>
<a name="getAllCacheKeysFromIdentityMapWithEntityPK(java.lang.Object[], org.eclipse.persistence.descriptors.ClassDescriptor, org.eclipse.persistence.internal.sessions.AbstractSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllCacheKeysFromIdentityMapWithEntityPK</h4>
<pre>public abstract&nbsp;java.util.Map&lt;java.lang.Object,org.eclipse.persistence.internal.identitymaps.CacheKey&gt;&nbsp;getAllCacheKeysFromIdentityMapWithEntityPK(java.lang.Object[]&nbsp;pkList,
                                                                                                                                <a href="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</a>&nbsp;descriptor,
                                                                                                                                org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</pre>
<div class="block">ADVANCED:
 Using a list of Entity PK this method will attempt to bulk load the entire list from the cache.
 In certain circumstances this can have large performance improvements over loading each item individually.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getAllCacheKeysFromIdentityMapWithEntityPK</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pkList</code> - List of Entity PKs to extract from the cache</dd><dd><code>descriptor</code> - Descriptor type to be retrieved.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Map of Entity PKs associated to the Entities that were retrieved</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/persistence/exceptions/QueryException.html" title="class in org.eclipse.persistence.exceptions">QueryException</a></code></dd></dl>
</li>
</ul>
<a name="getCacheKey(java.lang.Object, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheKey</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;getCacheKey(java.lang.Object&nbsp;primaryKey,
                                                                 boolean&nbsp;forMerge)</pre>
<div class="block">Get the cache key (with object) for the primary key.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getCacheKey</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="getCacheKeyForLock(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheKeyForLock</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;getCacheKeyForLock(java.lang.Object&nbsp;primaryKey)</pre>
<div class="block">Get the cache key (with object) for the primary key.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getCacheKeyForLock</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="getDescriptor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDescriptor</h4>
<pre>public&nbsp;<a href="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</a>&nbsp;getDescriptor()</pre>
<div class="block">Return the descriptor that this is the map for.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getDescriptor</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="getDescriptorClass()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDescriptorClass</h4>
<pre>public&nbsp;java.lang.Class&nbsp;getDescriptorClass()</pre>
<div class="block">Return the class that this is the map for.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getDescriptorClass</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="getMaxSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxSize</h4>
<pre>public&nbsp;int&nbsp;getMaxSize()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getMaxSize</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The maxSize for the IdentityMap (NOTE: some subclasses may use this differently).</dd></dl>
</li>
</ul>
<a name="getSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;int&nbsp;getSize()</pre>
<div class="block">Return the number of CacheKeys in the IdentityMap.
 This may contain weak referenced objects that have been garbage collected.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getSize</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="getSize(java.lang.Class, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;int&nbsp;getSize(java.lang.Class&nbsp;myClass,
          boolean&nbsp;recurse)</pre>
<div class="block">Return the number of actual objects of type myClass in the IdentityMap.
 Recurse = true will include subclasses of myClass in the count.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getSize</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="getTargetIdenttyMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTargetIdenttyMap</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.IdentityMap&nbsp;getTargetIdenttyMap()</pre>
<div class="block">Return the instance of the IdentityMap that this intercpetor is wrapping.  Any call that
 is to be passed on to the underlying EclipseLink cache should be passed to this IdentityMap.</div>
</li>
</ul>
<a name="getWrapper(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWrapper</h4>
<pre>public&nbsp;java.lang.Object&nbsp;getWrapper(java.lang.Object&nbsp;primaryKey)</pre>
<div class="block">Get the wrapper object from the cache key associated with the given primary key,
 this is used for EJB2.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getWrapper</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="getWriteLockValue(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteLockValue</h4>
<pre>public&nbsp;java.lang.Object&nbsp;getWriteLockValue(java.lang.Object&nbsp;primaryKey)</pre>
<div class="block">Get the write lock value from the cache key associated to the primarykey.
 User API.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getWriteLockValue</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="keys()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keys</h4>
<pre>public&nbsp;java.util.Enumeration&nbsp;keys()</pre>
<div class="block">Allow for the CacheKeys to be iterated on.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>keys</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="keys(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keys</h4>
<pre>public&nbsp;java.util.Enumeration&nbsp;keys(boolean&nbsp;checkReadLocks)</pre>
<div class="block">Allow for the CacheKeys to be iterated on. - value should be true
 if readloacks are to be used, false otherwise.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>keys</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="lazyRelationshipLoaded(java.lang.Object, org.eclipse.persistence.indirection.ValueHolderInterface, org.eclipse.persistence.mappings.ForeignReferenceMapping)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lazyRelationshipLoaded</h4>
<pre>public&nbsp;void&nbsp;lazyRelationshipLoaded(java.lang.Object&nbsp;rootEntity,
                          <a href="../../../../../org/eclipse/persistence/indirection/ValueHolderInterface.html" title="interface in org.eclipse.persistence.indirection">ValueHolderInterface</a>&nbsp;valueHolder,
                          <a href="../../../../../org/eclipse/persistence/mappings/ForeignReferenceMapping.html" title="class in org.eclipse.persistence.mappings">ForeignReferenceMapping</a>&nbsp;mapping)</pre>
<div class="block">Notify the cache that a lazy relationship has been triggered in the object
 and the cache may need to be updated</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>lazyRelationshipLoaded</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="put(java.lang.Object, java.lang.Object, java.lang.Object, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;put(java.lang.Object&nbsp;primaryKey,
                                                         java.lang.Object&nbsp;object,
                                                         java.lang.Object&nbsp;writeLockValue,
                                                         long&nbsp;readTime)</pre>
<div class="block">Store the object in the cache at its primary key.
 This is used by InsertObjectQuery, typically into the UnitOfWork identity map.
 Merge and reads do not use put, but acquireLock.
 Also an advanced (very) user API.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>put</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>primaryKey</code> - is the primary key for the object.</dd><dd><code>object</code> - is the domain object to cache.</dd><dd><code>writeLockValue</code> - is the current write lock value of object, if null the version is ignored.</dd></dl>
</li>
</ul>
<a name="remove(java.lang.Object, java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;java.lang.Object&nbsp;remove(java.lang.Object&nbsp;primaryKey,
                      java.lang.Object&nbsp;object)</pre>
<div class="block">Remove the CacheKey with the primaryKey from the map.
 This is used by DeleteObjectQuery and merge.
 This is also an advanced (very) user API.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>remove</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="remove(org.eclipse.persistence.internal.identitymaps.CacheKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;java.lang.Object&nbsp;remove(org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;cacheKey)</pre>
<div class="block">Remove the CacheKey from the map.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>remove</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="updateMaxSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMaxSize</h4>
<pre>public&nbsp;void&nbsp;updateMaxSize(int&nbsp;maxSize)</pre>
<div class="block">This method will be used to update the max cache size, any objects exceeding the max cache size will
 be remove from the cache. Please note that this does not remove the object from the identityMap, except in
 the case of the CacheIdentityMap.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>updateMaxSize</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="setDescriptor(org.eclipse.persistence.descriptors.ClassDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDescriptor</h4>
<pre>public&nbsp;void&nbsp;setDescriptor(<a href="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</a>&nbsp;descriptor)</pre>
<div class="block">Set the descriptor that this is the map for.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>setDescriptor</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="setWrapper(java.lang.Object, java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWrapper</h4>
<pre>public&nbsp;void&nbsp;setWrapper(java.lang.Object&nbsp;primaryKey,
              java.lang.Object&nbsp;wrapper)</pre>
<div class="block">Update the wrapper object in the CacheKey associated with the given primaryKey,
 this is used for EJB2.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>setWrapper</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="setWriteLockValue(java.lang.Object, java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWriteLockValue</h4>
<pre>public&nbsp;void&nbsp;setWriteLockValue(java.lang.Object&nbsp;primaryKey,
                     java.lang.Object&nbsp;writeLockValue)</pre>
<div class="block">Update the write lock value of the CacheKey associated with the given primaryKey.
 This is used by UpdateObjectQuery, and is also an advanced (very) user API.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>setWriteLockValue</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
</dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>toString</code>&nbsp;in interface&nbsp;<code>org.eclipse.persistence.internal.identitymaps.IdentityMap</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>EclipseLink 2.6.1, API Reference</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/eclipse/persistence/sessions/interceptors/CacheKeyInterceptor.html" title="class in org.eclipse.persistence.sessions.interceptors"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html" target="_top">Frames</a></li>
<li><a href="CacheInterceptor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
