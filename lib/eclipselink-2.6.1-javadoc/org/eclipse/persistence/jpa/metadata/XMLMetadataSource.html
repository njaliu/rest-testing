<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>XMLMetadataSource (EclipseLink 2.6.1, API Reference)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="XMLMetadataSource (EclipseLink 2.6.1, API Reference)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>EclipseLink 2.6.1, API Reference</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/eclipse/persistence/jpa/metadata/ProjectCache.html" title="interface in org.eclipse.persistence.jpa.metadata"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html" target="_top">Frames</a></li>
<li><a href="XMLMetadataSource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.eclipse.persistence.jpa.metadata</div>
<h2 title="Class XMLMetadataSource" class="title">Class XMLMetadataSource</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/eclipse/persistence/jpa/metadata/MetadataSourceAdapter.html" title="class in org.eclipse.persistence.jpa.metadata">org.eclipse.persistence.jpa.metadata.MetadataSourceAdapter</a></li>
<li>
<ul class="inheritance">
<li>org.eclipse.persistence.jpa.metadata.XMLMetadataSource</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/eclipse/persistence/jpa/metadata/MetadataSource.html" title="interface in org.eclipse.persistence.jpa.metadata">MetadataSource</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">XMLMetadataSource</span>
extends <a href="../../../../../org/eclipse/persistence/jpa/metadata/MetadataSourceAdapter.html" title="class in org.eclipse.persistence.jpa.metadata">MetadataSourceAdapter</a></pre>
<div class="block"><p><b>Purpose</b>: Support reading metadata for a persistence unit in an XML format from a URL and if the property is undefined,
 it will look for a file.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html#XMLMetadataSource()">XMLMetadataSource</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html#getConfigPropertyLogDebug(java.lang.String,%20java.util.Map,%20org.eclipse.persistence.logging.SessionLog)">getConfigPropertyLogDebug</a></strong>(java.lang.String&nbsp;propertyName,
                         java.util.Map&nbsp;properties,
                         <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)</code>
<div class="block">Check the provided map for an object with the given name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.eclipse.persistence.internal.jpa.metadata.xml.XMLEntityMappings</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html#getEntityMappings(java.util.Map,%20java.lang.ClassLoader,%20org.eclipse.persistence.logging.SessionLog)">getEntityMappings</a></strong>(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
                 java.lang.ClassLoader&nbsp;classLoader,
                 <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)</code>
<div class="block">This method is responsible for returning the object representation of the MetadataSource.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.io.Reader</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html#getEntityMappingsReader(java.util.Map,%20java.lang.ClassLoader,%20org.eclipse.persistence.logging.SessionLog)">getEntityMappingsReader</a></strong>(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
                       java.lang.ClassLoader&nbsp;classLoader,
                       <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)</code>
<div class="block">This method returns a Reader for an EclipseLink-ORM.xml.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.net.URL</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html#getFileURL(java.lang.String,%20java.lang.ClassLoader,%20org.eclipse.persistence.logging.SessionLog)">getFileURL</a></strong>(java.lang.String&nbsp;fileName,
          java.lang.ClassLoader&nbsp;classLoader,
          <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html#getPropertyOverrides(java.util.Map,%20java.lang.ClassLoader,%20org.eclipse.persistence.logging.SessionLog)">getPropertyOverrides</a></strong>(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
                    java.lang.ClassLoader&nbsp;classLoader,
                    <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)</code>
<div class="block">PUBLIC: This method is responsible for returning additional persistence
 unit property overrides.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html#getRepositoryName()">getRepositoryName</a></strong>()</code>
<div class="block">Used by getEntityMappings when creating the XMLEntityMappings as a way of describing where it was read from.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="XMLMetadataSource()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XMLMetadataSource</h4>
<pre>public&nbsp;XMLMetadataSource()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getEntityMappingsReader(java.util.Map, java.lang.ClassLoader, org.eclipse.persistence.logging.SessionLog)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntityMappingsReader</h4>
<pre>public&nbsp;java.io.Reader&nbsp;getEntityMappingsReader(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
                                     java.lang.ClassLoader&nbsp;classLoader,
                                     <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)</pre>
<div class="block">This method returns a Reader for an EclipseLink-ORM.xml.  It will use the 
 PersistenceUnitProperties.METADATA_SOURCE_XML_URL property if available to create an 
 InputStreamReader from a URL, and if not available, use the 
 PersistenceUnitProperties.METADATA_SOURCE_XML_FILE property will be used to get a file
 resource from the classloader. 
 It will throw a ValidationException if no reader can be returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>properties</code> - </dd><dd><code>classLoader</code> - </dd><dd><code>log</code> - - SessionLog used for status messages.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Reader - a InputStreamReader with data in the form of an EclipseLink-orm.xml</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html#getEntityMappings(java.util.Map,%20java.lang.ClassLoader,%20org.eclipse.persistence.logging.SessionLog)"><code>getEntityMappings(java.util.Map&lt;java.lang.String, java.lang.Object&gt;, java.lang.ClassLoader, org.eclipse.persistence.logging.SessionLog)</code></a></dd></dl>
</li>
</ul>
<a name="getEntityMappings(java.util.Map, java.lang.ClassLoader, org.eclipse.persistence.logging.SessionLog)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntityMappings</h4>
<pre>public&nbsp;org.eclipse.persistence.internal.jpa.metadata.xml.XMLEntityMappings&nbsp;getEntityMappings(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
                                                                                    java.lang.ClassLoader&nbsp;classLoader,
                                                                                    <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)</pre>
<div class="block">This method is responsible for returning the object representation of the MetadataSource.
 This implementation makes a call to getEntityMappingsReader to get a Reader which is passed to an 
 XMLUnmarshaller, and closes the reader in a finally block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/eclipse/persistence/jpa/metadata/MetadataSource.html#getEntityMappings(java.util.Map,%20java.lang.ClassLoader,%20org.eclipse.persistence.logging.SessionLog)">getEntityMappings</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/eclipse/persistence/jpa/metadata/MetadataSource.html" title="interface in org.eclipse.persistence.jpa.metadata">MetadataSource</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/eclipse/persistence/jpa/metadata/MetadataSourceAdapter.html#getEntityMappings(java.util.Map,%20java.lang.ClassLoader,%20org.eclipse.persistence.logging.SessionLog)">getEntityMappings</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/eclipse/persistence/jpa/metadata/MetadataSourceAdapter.html" title="class in org.eclipse.persistence.jpa.metadata">MetadataSourceAdapter</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>XMLEntityMappings - object representation of the EclipseLink-orm.xml for this repository</dd></dl>
</li>
</ul>
<a name="getRepositoryName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRepositoryName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRepositoryName()</pre>
<div class="block">Used by getEntityMappings when creating the XMLEntityMappings as a way of describing where it was read from.  
 Currently returns the current class's simple name.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>String - repository name to store in the XMLEntityMappings returned from getEntityMappings</dd></dl>
</li>
</ul>
<a name="getPropertyOverrides(java.util.Map, java.lang.ClassLoader, org.eclipse.persistence.logging.SessionLog)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPropertyOverrides</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;getPropertyOverrides(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
                                                                    java.lang.ClassLoader&nbsp;classLoader,
                                                                    <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)</pre>
<div class="block">PUBLIC: This method is responsible for returning additional persistence
 unit property overrides. It is called on initial deployment of the
 persistence unit and when the persistence unit is reloaded to allow
 customization of the persistence unit above and beyond what is packaged
 in the persistence.xml and what is code into the application.
 <p>
 <b>IMPORTANT</b>: Although any property can be changed using this
 approach it is important that users of this feature ensure compatible
 configurations are supplied. As an example; overriding an application to
 use RESOURCE_LOCAL when it was coded to use JTA would result in changes
 not be written to the database.
 
 PersistenceUnitProperties.METADATA_SOURCE_PROPERTIES_FILE property will be used to get a file
 resource from the classloader. Properties are read from the file.
 If the property either not specified or contains an empty string then returns null.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>EclipseLink 2.4</dd></dl>
</li>
</ul>
<a name="getFileURL(java.lang.String, java.lang.ClassLoader, org.eclipse.persistence.logging.SessionLog)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileURL</h4>
<pre>protected static&nbsp;java.net.URL&nbsp;getFileURL(java.lang.String&nbsp;fileName,
                      java.lang.ClassLoader&nbsp;classLoader,
                      <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)
                                  throws java.io.IOException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getConfigPropertyLogDebug(java.lang.String, java.util.Map, org.eclipse.persistence.logging.SessionLog)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getConfigPropertyLogDebug</h4>
<pre>public&nbsp;java.lang.Object&nbsp;getConfigPropertyLogDebug(java.lang.String&nbsp;propertyName,
                                         java.util.Map&nbsp;properties,
                                         <a href="../../../../../org/eclipse/persistence/logging/SessionLog.html" title="interface in org.eclipse.persistence.logging">SessionLog</a>&nbsp;log)</pre>
<div class="block">Check the provided map for an object with the given name.  If that object is not available, check the
 System properties.  Log the value returned if logging is enabled</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>propertyName</code> - </dd><dd><code>properties</code> - </dd><dd><code>log</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>EclipseLink 2.6.1, API Reference</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/eclipse/persistence/jpa/metadata/ProjectCache.html" title="interface in org.eclipse.persistence.jpa.metadata"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/persistence/jpa/metadata/XMLMetadataSource.html" target="_top">Frames</a></li>
<li><a href="XMLMetadataSource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
